<h1>Prontuário do paciente</h1>
<hr>
<main>
    <svg id="voltarPagina" data-bs-toggle="modal" data-bs-target="#modalProntuario" xmlns="http://www.w3.org/2000/svg" width="26" height="26" color="blue" cursor="pointer" fill="currentColor" class="bi bi-funnel-fill" viewBox="0 0 16 16">
        <path d="M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5v-2z"/>
    </svg>
    <div class="container">
        <section class="container">
            <hr>
            <form class="row g-3" action="/form-prontuario/editar-prontuario" method="POST">
                <div class="col-md-1">
                    <label for="id" class="form-label">Sequência:</label>
                    <input type="text" class="form-control" name="id" value="{{dados.nr_prontuario}}"  readonly>
                </div>
                <div class="col-md-6">
                    <label for="paciente" class="form-label">Nome paciente:</label>
                    <input type="text" class="form-control" name="paciente" value="{{dados.nm_paciente}}" readonly>
                </div>
                <div class="col-md-3">
                    <label for="cpf" class="form-label">CPF:</label>
                    <input type="text" class="form-control" name="cpf" id="cpf" maxlength="14" placeholder="000.000.000-00" onkeypress="formataCPF(this)" value="{{dados.nm_cpf}}" readonly>
                </div>
                <div class="col-md-3">
                    <label for="telefone" class="form-label">Telefone:</label>
                    <input type="text" class="form-control" name="telefone"  placeholder="(47) 99999-9999" onkeypress="mask(this, mphone);" onblur="mask(this, mphone);" value="{{dados.nm_telefone}}" readonly>
                </div>
                <div class="col-md-6">
                    <label for="endereco" class="form-label">Endereço:</label>
                    <input type="text" class="form-control" name="endereco" value="{{dados.nm_endereco}}" readonly>
                </div>
                <div class="col-md-4">
                    <label for="nascimento" class="form-label">Data nascimento:</label>
                    <input type="text" class="form-control" name="nascimento" value="{{dados.dt_data_nascimento}}" readonly>
                </div>
                <div class="col-md-6">
                    <label for="plano" class="form-label">Plano de saúde:</label>
                    <input type="text" class="form-control" name="plano" value="{{dados.nm_plano_saude}}">
                </div>
                <div class="col-md-5">
                    <label for="medico" class="form-label">Médico:</label>
                     <input type="text" class="form-control" name="medico" value="{{dados.nm_medico}}" readonly>
                </div>
                <div class="col-md-4">
                    <label for="consulta" class="form-label">Data da consulta:</label>
                    <input type="date" class="form-control" name="consulta" value="{{dados.dt_consulta}}" readonly>
                </div>
                <div class="col-10">
                    <label for="historico" class="form-label">Histórico de gestações:</label>
                     <textarea class="form-control" id="floatingTextarea2" name="historico"  style="resize: none;height: 66px">{{dados.nm_historico_gest}}</textarea>
                </div>
                <div class="col-10">
                    <label for="cirurgias" class="form-label">Históricos de cirurgias:</label>
                    <textarea class="form-control" id="floatingTextarea2" name="cirurgias" style="resize: none;height: 66px">{{dados.nm_historico_cirur}}</textarea>
                </div>
                <div class="col-5">
                    <label for="medicamentos" class="form-label">Medicamentos administrados:</label>
                    <textarea class="form-control" id="floatingTextarea2" name="medicamentos" style="resize: none;height: 66px">{{dados.nm_medicamentos}}</textarea>
                </div>
                <div class="col-4">
                    <label for="alergias" class="form-label">Alergias:</label>
                     <textarea class="form-control" id="floatingTextarea2" name="alergias" style="resize: none;height: 66px">{{dados.nm_alergia}}</textarea>
                </div>
                <div class="col-10">
                    <label for="sintomas" class="form-label">Sintomas/Queixas:</label>
                    <textarea class="form-control" id="floatingTextarea2" name="sintomas" style="resize: none;height: 66px">{{dados.nm_sintomas}}</textarea>
                </div>
                <div class="col-4">
                    <label for="presquicao" class="form-label">Pedidos e prescrições:</label>
                    <textarea class="form-control" id="floatingTextarea2" name="prescricao" style="resize: none;height: 66px">{{dados.nm_prescricao}}</textarea>
                </div>
                <div class="col-5">
                    <label for="habitos" class="form-label">Hábitos de vida:</label>
                    <textarea class="form-control" id="floatingTextarea2" name="habitos" style="resize: none;height: 66px">{{dados.nm_habitos}}</textarea>
                </div>
                <div class="col-5">
                    <label for="informacao" class="form-label">Outras informações:</label>
                    <textarea class="form-control" id="floatingTextarea2" name="informacao" style="resize: none;height: 66px">{{dados.nm_outras_inform}}</textarea>
                </div>
                <br>
                <div class="col-md-12">
                    <button type="submit" class="btn btn-success" id="link" onclick="carregarSpinners()"><span>
                            <ion-icon name="person-add"></ion-icon>
                        </span> Editar</button>
                    <a class="btn btn-primary" id="link" data-bs-toggle="modal" data-bs-target="#modalPront"><span>
                            <ion-icon name="arrow-undo"></ion-icon>
                    </span> Cancelar</a>
                </div>
            </form>
        </section>
    </div>
</main>

<div class="text-center" id="text-center">
    <div class="spinner-border" role="status" id="spinner-border">
        <span class="visually-hidden">Loading...</span>
    </div>
</div>

<div class="modal fade" id="modalProntuario" tabindex="-1" aria-labelledby="exampleModal" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
            <div class="modal-header modal-filtro">
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                               <form action="/form-prontuario/filtro-prontuario" method="POST">
                    <div class="row g-3">
                        <div class="col">
                            <label for="">Nome do paciente:</label>
                            <input type="text" class="form-control" name="nome"><br>
                        </div>
                        <div class="col">
                            <label for="">CPF:</label>
                            <input type="text" class="form-control" name="cpf" id="cpf" maxlength="14" placeholder="000.000.000-00" onkeypress="formataCPF(this)">
                        </div>
                    </div>    
                    <label for="">Médico:</label>
                     <select class="form-select" aria-label="Default select example" id="medico" onblur="valorOptionMedico();">
                        <option>...</option>
                        {{#each medicos}}
                        <option value="{{nm_nome_usuario}}">{{nm_nome_usuario}}</option>
                        {{/each}}
                    </select><br>
                   <input type="hidden" value="" name="medico" id="option-medico">
                    <button type="submit" class="btn btn-success" onclick="carregarSpinners()">Pesquisar</button>
                </form>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modalPront" tabindex="-1" aria-labelledby="exampleModal" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Atenção!</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <p>Se você sair todas as suas alterações não vão ser salvas! <br>
        Deseja realmente sair?</p>
      </div>
      <div class="modal-footer">
        <a href="/form-prontuario"><button type="button" class="btn btn-secondary" data-bs-dismiss="modal" onclick="carregarSpinners()">Sair</button></a>
      </div>
    </div>
  </div>
</div>

